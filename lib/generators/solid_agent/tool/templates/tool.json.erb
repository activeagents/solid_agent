{
  "type": "function",
  "name": "<%= name %>",
  "description": "<%= @tool_description %>",
  "parameters": {
    "type": "object",
    "properties": {
<%- @parameters.each_with_index do |param, index| -%>
      "<%= param[:name] %>": {
        "type": "<%= param[:type] %>",
        "description": "<%= param[:description] %>"
      }<%= index < @parameters.length - 1 ? ',' : '' %>
<%- end -%>
<%- if @parameters.empty? -%>
<%- end -%>
    },
    "required": [<%= @parameters.select { |p| p[:required] }.map { |p| "\"#{p[:name]}\"" }.join(", ") %>]
  }
}
